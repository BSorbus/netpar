
1. Sign in
  1.1. User cannot sign in if not registered
  1.2. User can sign in with valid credentials (FAILED - 1)
  1.3. User cannot sign in with wrong email (FAILED - 2)
  1.4. User cannot sign in with wrong password (FAILED - 3)

2. Sign out
  2.1. User signs out successfully (FAILED - 4)

3. User delete
  3.1. User can delete own account (PENDING: skip a slow test)

4. User edit
  4.1. User changes email address (FAILED - 5)
  4.2. User changes email address no UKE domain (FAILED - 6)
  4.3. User cannot cannot edit another user's profile (FAILED - 7)

5. Index pages
  5.1. users_path - Simple User cannot listed Users (FAILED - 8)
  5.2. roles_path - Simple User cannot listed Roles (FAILED - 9)

6. User profile page
  6.1. User sees own profile (FAILED - 10)
  6.2. User cannot see another user's profile (FAILED - 11)

11 Home page
  11.1. visit the home page

12. Navigation links
  12.1. View navigation links

13. Sign Up
  visitor can sign up with valid email address and password (FAILED - 12)
  visitor cannot sign up with invalid email address (FAILED - 13)
  visitor cannot sign up with invalid email address (FAILED - 14)
  visitor cannot sign up without password (FAILED - 15)
  visitor cannot sign up with a short password (FAILED - 16)
  visitor cannot sign up without password confirmation (FAILED - 17)
  visitor cannot sign up with mismatched password and confirmation (FAILED - 18)

Certificate
  add some examples to (or delete) /home/bogdan/www/netpar/spec/models/certificate_spec.rb (PENDING: Not yet implemented)

Citizenship
  add some examples to (or delete) /home/bogdan/www/netpar/spec/models/citizenship_spec.rb (PENDING: Not yet implemented)

Customer
  add some examples to (or delete) /home/bogdan/www/netpar/spec/models/customer_spec.rb (PENDING: Not yet implemented)

Department
  add some examples to (or delete) /home/bogdan/www/netpar/spec/models/department_spec.rb (PENDING: Not yet implemented)

Division
  add some examples to (or delete) /home/bogdan/www/netpar/spec/models/division_spec.rb (PENDING: Not yet implemented)

Document
  add some examples to (or delete) /home/bogdan/www/netpar/spec/models/document_spec.rb (PENDING: Not yet implemented)

Exam
  add some examples to (or delete) /home/bogdan/www/netpar/spec/models/exam_spec.rb (PENDING: Not yet implemented)

Examination
  add some examples to (or delete) /home/bogdan/www/netpar/spec/models/examination_spec.rb (PENDING: Not yet implemented)

Examiner
  add some examples to (or delete) /home/bogdan/www/netpar/spec/models/examiner_spec.rb (PENDING: Not yet implemented)

Grade
  add some examples to (or delete) /home/bogdan/www/netpar/spec/models/grade_spec.rb (PENDING: Not yet implemented)

Role
  add some examples to (or delete) /home/bogdan/www/netpar/spec/models/role_spec.rb (PENDING: Not yet implemented)

Subject
  add some examples to (or delete) /home/bogdan/www/netpar/spec/models/subject_spec.rb (PENDING: Not yet implemented)

User
  should respond to #email
  #email returns a string

Work
  add some examples to (or delete) /home/bogdan/www/netpar/spec/models/work_spec.rb (PENDING: Not yet implemented)

RolePolicy
  .scope
    add some examples to (or delete) /home/bogdan/www/netpar/spec/policies/role_policy_spec.rb (PENDING: Not yet implemented)
  show?
    add some examples to (or delete) /home/bogdan/www/netpar/spec/policies/role_policy_spec.rb (PENDING: Not yet implemented)
  create?
    add some examples to (or delete) /home/bogdan/www/netpar/spec/policies/role_policy_spec.rb (PENDING: Not yet implemented)
  update?
    add some examples to (or delete) /home/bogdan/www/netpar/spec/policies/role_policy_spec.rb (PENDING: Not yet implemented)
  destroy?
    add some examples to (or delete) /home/bogdan/www/netpar/spec/policies/role_policy_spec.rb (PENDING: Not yet implemented)

UserPolicy
  index?
    denies access if not an admin
    allows access for an admin (FAILED - 19)
  show?
    prevents other users from seeing your profile
    allows you to see your own profile (FAILED - 20)
    allows an admin to see any profile (FAILED - 21)
  update?
    prevents updates if not an admin
    allows an admin to make updates (FAILED - 22)
  destroy?
    prevents deleting yourself
    allows an admin to delete any user (FAILED - 23)

Pending: (Failures listed here are expected and do not affect your suite's status)

  1) 3. User delete 3.1. User can delete own account
     # skip a slow test
     # ./spec/features/users/3.user_delete_spec.rb:18

  2) Certificate add some examples to (or delete) /home/bogdan/www/netpar/spec/models/certificate_spec.rb
     # Not yet implemented
     # ./spec/models/certificate_spec.rb:4

  3) Citizenship add some examples to (or delete) /home/bogdan/www/netpar/spec/models/citizenship_spec.rb
     # Not yet implemented
     # ./spec/models/citizenship_spec.rb:4

  4) Customer add some examples to (or delete) /home/bogdan/www/netpar/spec/models/customer_spec.rb
     # Not yet implemented
     # ./spec/models/customer_spec.rb:4

  5) Department add some examples to (or delete) /home/bogdan/www/netpar/spec/models/department_spec.rb
     # Not yet implemented
     # ./spec/models/department_spec.rb:4

  6) Division add some examples to (or delete) /home/bogdan/www/netpar/spec/models/division_spec.rb
     # Not yet implemented
     # ./spec/models/division_spec.rb:4

  7) Document add some examples to (or delete) /home/bogdan/www/netpar/spec/models/document_spec.rb
     # Not yet implemented
     # ./spec/models/document_spec.rb:4

  8) Exam add some examples to (or delete) /home/bogdan/www/netpar/spec/models/exam_spec.rb
     # Not yet implemented
     # ./spec/models/exam_spec.rb:4

  9) Examination add some examples to (or delete) /home/bogdan/www/netpar/spec/models/examination_spec.rb
     # Not yet implemented
     # ./spec/models/examination_spec.rb:4

  10) Examiner add some examples to (or delete) /home/bogdan/www/netpar/spec/models/examiner_spec.rb
     # Not yet implemented
     # ./spec/models/examiner_spec.rb:4

  11) Grade add some examples to (or delete) /home/bogdan/www/netpar/spec/models/grade_spec.rb
     # Not yet implemented
     # ./spec/models/grade_spec.rb:4

  12) Role add some examples to (or delete) /home/bogdan/www/netpar/spec/models/role_spec.rb
     # Not yet implemented
     # ./spec/models/role_spec.rb:4

  13) Subject add some examples to (or delete) /home/bogdan/www/netpar/spec/models/subject_spec.rb
     # Not yet implemented
     # ./spec/models/subject_spec.rb:4

  14) Work add some examples to (or delete) /home/bogdan/www/netpar/spec/models/work_spec.rb
     # Not yet implemented
     # ./spec/models/work_spec.rb:4

  15) RolePolicy.scope add some examples to (or delete) /home/bogdan/www/netpar/spec/policies/role_policy_spec.rb
     # Not yet implemented
     # ./spec/policies/role_policy_spec.rb:10

  16) RolePolicy show? add some examples to (or delete) /home/bogdan/www/netpar/spec/policies/role_policy_spec.rb
     # Not yet implemented
     # ./spec/policies/role_policy_spec.rb:14

  17) RolePolicy create? add some examples to (or delete) /home/bogdan/www/netpar/spec/policies/role_policy_spec.rb
     # Not yet implemented
     # ./spec/policies/role_policy_spec.rb:18

  18) RolePolicy update? add some examples to (or delete) /home/bogdan/www/netpar/spec/policies/role_policy_spec.rb
     # Not yet implemented
     # ./spec/policies/role_policy_spec.rb:22

  19) RolePolicy destroy? add some examples to (or delete) /home/bogdan/www/netpar/spec/policies/role_policy_spec.rb
     # Not yet implemented
     # ./spec/policies/role_policy_spec.rb:26

Failures:

  1) 1. Sign in 1.2. User can sign in with valid credentials
     Failure/Error: self.authentication_token = generate_authentication_token

     NameError:
       undefined local variable or method `generate_authentication_token' for #<User:0x007fc1084aafa8>
     # ./app/models/user.rb:103:in `ensure_authentication_token'
     # ./spec/features/users/1.sign_in_spec.rb:22:in `block (2 levels) in <top (required)>'

  2) 1. Sign in 1.3. User cannot sign in with wrong email
     Failure/Error: self.authentication_token = generate_authentication_token

     NameError:
       undefined local variable or method `generate_authentication_token' for #<User:0x007fc10742dec8>
     # ./app/models/user.rb:103:in `ensure_authentication_token'
     # ./spec/features/users/1.sign_in_spec.rb:33:in `block (2 levels) in <top (required)>'

  3) 1. Sign in 1.4. User cannot sign in with wrong password
     Failure/Error: self.authentication_token = generate_authentication_token

     NameError:
       undefined local variable or method `generate_authentication_token' for #<User:0x007fc10863a5f8>
     # ./app/models/user.rb:103:in `ensure_authentication_token'
     # ./spec/features/users/1.sign_in_spec.rb:44:in `block (2 levels) in <top (required)>'

  4) 2. Sign out 2.1. User signs out successfully
     Failure/Error: self.authentication_token = generate_authentication_token

     NameError:
       undefined local variable or method `generate_authentication_token' for #<User:0x007fc1073b9d20>
     # ./app/models/user.rb:103:in `ensure_authentication_token'
     # ./spec/features/users/2.sign_out_spec.rb:12:in `block (2 levels) in <top (required)>'

  5) 4. User edit 4.1. User changes email address
     Failure/Error: self.authentication_token = generate_authentication_token

     NameError:
       undefined local variable or method `generate_authentication_token' for #<User:0x007fc1086a0678>
     # ./app/models/user.rb:103:in `ensure_authentication_token'
     # ./spec/features/users/4.user_edit_spec.rb:19:in `block (2 levels) in <top (required)>'

  6) 4. User edit 4.2. User changes email address no UKE domain
     Failure/Error: self.authentication_token = generate_authentication_token

     NameError:
       undefined local variable or method `generate_authentication_token' for #<User:0x007fc1086d3cd0>
     # ./app/models/user.rb:103:in `ensure_authentication_token'
     # ./spec/features/users/4.user_edit_spec.rb:38:in `block (2 levels) in <top (required)>'

  7) 4. User edit 4.3. User cannot cannot edit another user's profile
     Failure/Error: self.authentication_token = generate_authentication_token

     NameError:
       undefined local variable or method `generate_authentication_token' for #<User:0x007fc1086ed5e0>
     # ./app/models/user.rb:103:in `ensure_authentication_token'
     # ./spec/features/users/4.user_edit_spec.rb:59:in `block (2 levels) in <top (required)>'

  8) 5. Index pages 5.1. users_path - Simple User cannot listed Users
     Failure/Error: self.authentication_token = generate_authentication_token

     NameError:
       undefined local variable or method `generate_authentication_token' for #<User:0x007fc1072cfe00>
     # ./app/models/user.rb:103:in `ensure_authentication_token'
     # ./spec/features/users/5.user_index_spec.rb:23:in `block (2 levels) in <top (required)>'

  9) 5. Index pages 5.2. roles_path - Simple User cannot listed Roles
     Failure/Error: self.authentication_token = generate_authentication_token

     NameError:
       undefined local variable or method `generate_authentication_token' for #<User:0x007fc10873f840>
     # ./app/models/user.rb:103:in `ensure_authentication_token'
     # ./spec/features/users/5.user_index_spec.rb:34:in `block (2 levels) in <top (required)>'

  10) 6. User profile page 6.1. User sees own profile
      Failure/Error: self.authentication_token = generate_authentication_token

      NameError:
        undefined local variable or method `generate_authentication_token' for #<User:0x007fc10875ca08>
      # ./app/models/user.rb:103:in `ensure_authentication_token'
      # ./spec/features/users/6.user_show_spec.rb:19:in `block (2 levels) in <top (required)>'

  11) 6. User profile page 6.2. User cannot see another user's profile
      Failure/Error: self.authentication_token = generate_authentication_token

      NameError:
        undefined local variable or method `generate_authentication_token' for #<User:0x007fc108773be0>
      # ./app/models/user.rb:103:in `ensure_authentication_token'
      # ./spec/features/users/6.user_show_spec.rb:31:in `block (2 levels) in <top (required)>'

  12) 13. Sign Up visitor can sign up with valid email address and password
      Failure/Error: expect(page).to have_content(/.*#{txts[0]}.*|.*#{txts[1]}.*/)
        expected to find text matching /.*Witaj! Zarejestrowałeś się pomyślnie..*|.*Wiadomość email z instrukcją aktywacji konta została przesłana na Twój adres email. Użyj linku z emaila aby aktywować konto..*/ in "Toggle navigation Zaloguj się Zarejestruj się Hasło musi zawierać wielką i małą literę oraz cyfrę i znak specjalny Imię i Nazwisko Email Hasło Potwórz hasło Zaloguj się Zapomniałeś hasła? Nie otrzymałeś instrukcji aktywacji konta? Nie otrzymałeś instrukcji odblokowania konta? Kontakt: netpar@uke.gov.pl 72 74 91 36 Zobacz też: UKE Pozwolenia radiowe Świadectwa © UKE-BI-WUSA (B&J) 2015"
      # ./spec/features/visitors/13.sign_up_spec.rb:14:in `block (2 levels) in <top (required)>'

  13) 13. Sign Up visitor cannot sign up with invalid email address
      Failure/Error: expect(page).to have_content 'Email is invalid'
        expected to find text "Email is invalid" in "Toggle navigation Zaloguj się Zarejestruj się Email jest nieprawidłowe Email jest nieprawidłowe Hasło musi zawierać wielką i małą literę oraz cyfrę i znak specjalny Imię i Nazwisko Email Hasło Potwórz hasło Zaloguj się Zapomniałeś hasła? Nie otrzymałeś instrukcji aktywacji konta? Nie otrzymałeś instrukcji odblokowania konta? Kontakt: netpar@uke.gov.pl 72 74 91 36 Zobacz też: UKE Pozwolenia radiowe Świadectwa © UKE-BI-WUSA (B&J) 2015"
      # ./spec/features/visitors/13.sign_up_spec.rb:23:in `block (2 levels) in <top (required)>'

  14) 13. Sign Up visitor cannot sign up with invalid email address
      Failure/Error: expect(page).to have_content 'Email is invalid'
        expected to find text "Email is invalid" in "Toggle navigation Zaloguj się Zarejestruj się Email jest nieprawidłowe Hasło musi zawierać wielką i małą literę oraz cyfrę i znak specjalny Imię i Nazwisko Email Hasło Potwórz hasło Zaloguj się Zapomniałeś hasła? Nie otrzymałeś instrukcji aktywacji konta? Nie otrzymałeś instrukcji odblokowania konta? Kontakt: netpar@uke.gov.pl 72 74 91 36 Zobacz też: UKE Pozwolenia radiowe Świadectwa © UKE-BI-WUSA (B&J) 2015"
      # ./spec/features/visitors/13.sign_up_spec.rb:32:in `block (2 levels) in <top (required)>'

  15) 13. Sign Up visitor cannot sign up without password
      Failure/Error: expect(page).to have_content "Password can't be blank"
        expected to find text "Password can't be blank" in "Toggle navigation Zaloguj się Zarejestruj się Hasło nie może być puste Hasło musi zawierać wielką i małą literę oraz cyfrę i znak specjalny Imię i Nazwisko Email Hasło Potwórz hasło Zaloguj się Zapomniałeś hasła? Nie otrzymałeś instrukcji aktywacji konta? Nie otrzymałeś instrukcji odblokowania konta? Kontakt: netpar@uke.gov.pl 72 74 91 36 Zobacz też: UKE Pozwolenia radiowe Świadectwa © UKE-BI-WUSA (B&J) 2015"
      # ./spec/features/visitors/13.sign_up_spec.rb:41:in `block (2 levels) in <top (required)>'

  16) 13. Sign Up visitor cannot sign up with a short password
      Failure/Error: expect(page).to have_content "Password is too short"
        expected to find text "Password is too short" in "Toggle navigation Zaloguj się Zarejestruj się Hasło jest za krótkie (przynajmniej 8 znaków) Hasło musi zawierać wielką i małą literę oraz cyfrę i znak specjalny Imię i Nazwisko Email Hasło Potwórz hasło Zaloguj się Zapomniałeś hasła? Nie otrzymałeś instrukcji aktywacji konta? Nie otrzymałeś instrukcji odblokowania konta? Kontakt: netpar@uke.gov.pl 72 74 91 36 Zobacz też: UKE Pozwolenia radiowe Świadectwa © UKE-BI-WUSA (B&J) 2015"
      # ./spec/features/visitors/13.sign_up_spec.rb:50:in `block (2 levels) in <top (required)>'

  17) 13. Sign Up visitor cannot sign up without password confirmation
      Failure/Error: expect(page).to have_content "Password confirmation doesn't match"
        expected to find text "Password confirmation doesn't match" in "Toggle navigation Zaloguj się Zarejestruj się Potwórz hasło nie zgadza się z potwierdzeniem Hasło musi zawierać wielką i małą literę oraz cyfrę i znak specjalny Imię i Nazwisko Email Hasło Potwórz hasło Zaloguj się Zapomniałeś hasła? Nie otrzymałeś instrukcji aktywacji konta? Nie otrzymałeś instrukcji odblokowania konta? Kontakt: netpar@uke.gov.pl 72 74 91 36 Zobacz też: UKE Pozwolenia radiowe Świadectwa © UKE-BI-WUSA (B&J) 2015"
      # ./spec/features/visitors/13.sign_up_spec.rb:59:in `block (2 levels) in <top (required)>'

  18) 13. Sign Up visitor cannot sign up with mismatched password and confirmation
      Failure/Error: expect(page).to have_content "Password confirmation doesn't match"
        expected to find text "Password confirmation doesn't match" in "Toggle navigation Zaloguj się Zarejestruj się Potwórz hasło nie zgadza się z potwierdzeniem Hasło musi zawierać wielką i małą literę oraz cyfrę i znak specjalny Imię i Nazwisko Email Hasło Potwórz hasło Zaloguj się Zapomniałeś hasła? Nie otrzymałeś instrukcji aktywacji konta? Nie otrzymałeś instrukcji odblokowania konta? Kontakt: netpar@uke.gov.pl 72 74 91 36 Zobacz też: UKE Pozwolenia radiowe Świadectwa © UKE-BI-WUSA (B&J) 2015"
      # ./spec/features/visitors/13.sign_up_spec.rb:68:in `block (2 levels) in <top (required)>'

  19) UserPolicy index? allows access for an admin
      Failure/Error: let (:admin) { FactoryGirl.build_stubbed :user, :admin }

      ArgumentError:
        Trait not registered: admin
      # ./spec/policies/user_policy_spec.rb:6:in `block (2 levels) in <top (required)>'
      # ./spec/policies/user_policy_spec.rb:13:in `block (3 levels) in <top (required)>'

  20) UserPolicy show? allows you to see your own profile
      Failure/Error: expect(subject).to permit(current_user, current_user)
        Expected UserPolicy to grant show? on           #<User:0x007fc108785bd8> but show? was not granted
      # ./spec/policies/user_policy_spec.rb:22:in `block (3 levels) in <top (required)>'

  21) UserPolicy show? allows an admin to see any profile
      Failure/Error: let (:admin) { FactoryGirl.build_stubbed :user, :admin }

      ArgumentError:
        Trait not registered: admin
      # ./spec/policies/user_policy_spec.rb:6:in `block (2 levels) in <top (required)>'
      # ./spec/policies/user_policy_spec.rb:25:in `block (3 levels) in <top (required)>'

  22) UserPolicy update? allows an admin to make updates
      Failure/Error: let (:admin) { FactoryGirl.build_stubbed :user, :admin }

      ArgumentError:
        Trait not registered: admin
      # ./spec/policies/user_policy_spec.rb:6:in `block (2 levels) in <top (required)>'
      # ./spec/policies/user_policy_spec.rb:34:in `block (3 levels) in <top (required)>'

  23) UserPolicy destroy? allows an admin to delete any user
      Failure/Error: let (:admin) { FactoryGirl.build_stubbed :user, :admin }

      ArgumentError:
        Trait not registered: admin
      # ./spec/policies/user_policy_spec.rb:6:in `block (2 levels) in <top (required)>'
      # ./spec/policies/user_policy_spec.rb:43:in `block (3 levels) in <top (required)>'

Finished in 4.87 seconds (files took 2.78 seconds to load)
51 examples, 23 failures, 19 pending

Failed examples:

rspec ./spec/features/users/1.sign_in_spec.rb:21 # 1. Sign in 1.2. User can sign in with valid credentials
rspec ./spec/features/users/1.sign_in_spec.rb:32 # 1. Sign in 1.3. User cannot sign in with wrong email
rspec ./spec/features/users/1.sign_in_spec.rb:43 # 1. Sign in 1.4. User cannot sign in with wrong password
rspec ./spec/features/users/2.sign_out_spec.rb:11 # 2. Sign out 2.1. User signs out successfully
rspec ./spec/features/users/4.user_edit_spec.rb:18 # 4. User edit 4.1. User changes email address
rspec ./spec/features/users/4.user_edit_spec.rb:37 # 4. User edit 4.2. User changes email address no UKE domain
rspec ./spec/features/users/4.user_edit_spec.rb:58 # 4. User edit 4.3. User cannot cannot edit another user's profile
rspec ./spec/features/users/5.user_index_spec.rb:18 # 5. Index pages 5.1. users_path - Simple User cannot listed Users
rspec ./spec/features/users/5.user_index_spec.rb:29 # 5. Index pages 5.2. roles_path - Simple User cannot listed Roles
rspec ./spec/features/users/6.user_show_spec.rb:18 # 6. User profile page 6.1. User sees own profile
rspec ./spec/features/users/6.user_show_spec.rb:30 # 6. User profile page 6.2. User cannot see another user's profile
rspec ./spec/features/visitors/13.sign_up_spec.rb:11 # 13. Sign Up visitor can sign up with valid email address and password
rspec ./spec/features/visitors/13.sign_up_spec.rb:21 # 13. Sign Up visitor cannot sign up with invalid email address
rspec ./spec/features/visitors/13.sign_up_spec.rb:30 # 13. Sign Up visitor cannot sign up with invalid email address
rspec ./spec/features/visitors/13.sign_up_spec.rb:39 # 13. Sign Up visitor cannot sign up without password
rspec ./spec/features/visitors/13.sign_up_spec.rb:48 # 13. Sign Up visitor cannot sign up with a short password
rspec ./spec/features/visitors/13.sign_up_spec.rb:57 # 13. Sign Up visitor cannot sign up without password confirmation
rspec ./spec/features/visitors/13.sign_up_spec.rb:66 # 13. Sign Up visitor cannot sign up with mismatched password and confirmation
rspec ./spec/policies/user_policy_spec.rb:12 # UserPolicy index? allows access for an admin
rspec ./spec/policies/user_policy_spec.rb:21 # UserPolicy show? allows you to see your own profile
rspec ./spec/policies/user_policy_spec.rb:24 # UserPolicy show? allows an admin to see any profile
rspec ./spec/policies/user_policy_spec.rb:33 # UserPolicy update? allows an admin to make updates
rspec ./spec/policies/user_policy_spec.rb:42 # UserPolicy destroy? allows an admin to delete any user

